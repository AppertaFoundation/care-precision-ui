import React from 'react';

import { Label, IconButton } from '../IconButton';

const CovidIcon: React.FC<{ value: any; label?: boolean; small?: boolean }> = ({
  value,
  label = false,
  small,
}) => {
  console.log('small', small);
  return (
    <IconButton
      onClick={() => console.log('a')}
      style={{ padding: small ? '0px' : '12px' }}
    >
      <Covid value={value} />
      {label && <Label>COVID</Label>}
    </IconButton>
  );
};

export const CovidIconBadget = ({ value, small = false }) => {
  return <Covid value={value} width="18px" />;
};

const Covid = ({ value, width = '32px' }) => {
  const {
    suspectedCovidStatus,
    dateIsolationDueToEnd,
    covidTestRequest,
  } = value;
  const getColor = (): string => {
    return {
      red: '#FF4756',
      amber: '#FF903D',
      grey: '#7D7D7D',
      green: '#2E7D32',
      white: '#fff',
    }[suspectedCovidStatus];
  };

  const endOfIsolation = new Date(dateIsolationDueToEnd);
  const currentDate = new Date();
  const color = getColor();
  const isolation = endOfIsolation > currentDate;
  return (
    <svg
      height={width}
      width={width}
      fill={color}
      stroke={color}
      xmlns="http://www.w3.org/2000/svg"
      xmlnsXlink="http://www.w3.org/1999/xlink"
      version="1.1"
      x="0px"
      y="0px"
      viewBox="0 0 64 64"
      enableBackground="new 0 0 64 64"
      xmlSpace="preserve"
    >
      <path d="M60.035,31.035h-4.06c-0.233-5.861-2.575-11.188-6.29-15.24l2.875-2.875l2.829,2.829l1.414-1.414l-7.071-7.071l-1.414,1.414  l2.829,2.829l-2.874,2.874C44.221,10.635,38.881,8.268,33,8.025V4h4V2H27v2h4v4.025c-5.866,0.242-11.194,2.597-15.242,6.325  l-2.844-2.844l2.829-2.829l-1.414-1.414l-7.071,7.071l1.414,1.414l2.829-2.829l2.845,2.845C10.619,19.812,8.267,25.138,8.025,31H4  v-4H2v10h2v-4h4.025c0.242,5.869,2.599,11.199,6.33,15.248l-2.857,2.857L8.67,48.276L7.256,49.69l7.071,7.071l1.414-1.414  l-2.829-2.829l2.857-2.857c4.047,3.722,9.37,6.072,15.23,6.313V60h-4v2h10v-2h-4v-4.025c5.862-0.242,11.188-2.594,15.235-6.318  l2.862,2.862l-2.829,2.829l1.414,1.414l7.071-7.071l-1.414-1.414l-2.829,2.829l-2.862-2.862c3.721-4.04,6.075-9.355,6.325-15.207  h4.061v4h2v-10h-2V31.035z M32,54c-12.131,0-22-9.869-22-22s9.869-22,22-22s22,9.869,22,22S44.131,54,32,54z"></path>
      <path d="M32,27c-2.757,0-5,2.243-5,5s2.243,5,5,5s5-2.243,5-5S34.757,27,32,27z M32,35c-1.654,0-3-1.346-3-3s1.346-3,3-3  s3,1.346,3,3S33.654,35,32,35z"></path>
      <path d="M32,12c-2.804,0-5,1.538-5,3.5c0,1.722,1.691,3.115,4,3.431V21h2v-2.069c2.309-0.316,4-1.71,4-3.431  C37,13.538,34.804,12,32,12z M32,17c-1.717,0-3-0.792-3-1.5s1.283-1.5,3-1.5s3,0.792,3,1.5S33.717,17,32,17z"></path>
      <path d="M33,45.069V43h-2v2.069c-2.309,0.316-4,1.71-4,3.431c0,1.962,2.196,3.5,5,3.5s5-1.538,5-3.5  C37,46.778,35.309,45.385,33,45.069z M32,50c-1.717,0-3-0.792-3-1.5s1.283-1.5,3-1.5s3,0.792,3,1.5S33.717,50,32,50z"></path>
      <path d="M18.931,33H21v-2h-2.069c-0.316-2.309-1.71-4-3.431-4c-1.962,0-3.5,2.196-3.5,5s1.538,5,3.5,5  C17.222,37,18.615,35.309,18.931,33z M15.5,35c-0.708,0-1.5-1.283-1.5-3s0.792-3,1.5-3s1.5,1.283,1.5,3S16.208,35,15.5,35z"></path>
      <path d="M45.069,31H43v2h2.069c0.316,2.309,1.71,4,3.431,4c1.962,0,3.5-2.196,3.5-5s-1.538-5-3.5-5  C46.778,27,45.385,28.691,45.069,31z M48.5,29c0.708,0,1.5,1.283,1.5,3s-0.792,3-1.5,3S47,33.717,47,32S47.792,29,48.5,29z"></path>
      <path d="M24.557,19.808c0.277-1.199,0.026-2.296-0.688-3.01c0,0,0,0,0,0s0,0,0,0c-0.714-0.714-1.811-0.965-3.01-0.688  c-1.048,0.242-2.114,0.863-3,1.75s-1.508,1.952-1.75,3c-0.277,1.199-0.025,2.296,0.688,3.01c0.524,0.524,1.254,0.799,2.08,0.799  c0.299,0,0.612-0.036,0.931-0.11c0.764-0.176,1.536-0.559,2.242-1.094l1.465,1.465l1.414-1.414l-1.465-1.465  C23.999,21.343,24.381,20.572,24.557,19.808z M19.358,22.608c-0.513,0.118-0.93,0.063-1.146-0.155  c-0.216-0.216-0.272-0.634-0.154-1.146c0.156-0.678,0.599-1.42,1.215-2.036s1.358-1.059,2.036-1.215  c0.176-0.041,0.341-0.061,0.49-0.061c0.286,0,0.514,0.073,0.656,0.215c0,0,0,0,0,0c0.216,0.216,0.272,0.634,0.154,1.146  c-0.156,0.678-0.599,1.42-1.215,2.036S20.036,22.452,19.358,22.608z"></path>
      <path d="M44.192,39.443c-0.764,0.176-1.536,0.558-2.242,1.094l-1.465-1.465l-1.414,1.414l1.465,1.465  c-0.535,0.706-0.918,1.478-1.094,2.242c-0.277,1.199-0.026,2.296,0.688,3.01c0,0,0,0,0,0s0,0,0,0  c0.524,0.524,1.254,0.798,2.079,0.798c0.299,0,0.612-0.036,0.931-0.11c1.048-0.242,2.114-0.863,3-1.75s1.508-1.952,1.75-3  c0.277-1.199,0.025-2.296-0.688-3.01C46.489,39.417,45.392,39.166,44.192,39.443z M45.943,42.692  c-0.156,0.678-0.599,1.42-1.215,2.036s-1.358,1.059-2.036,1.215c-0.514,0.119-0.931,0.062-1.146-0.154c0,0,0,0,0,0  c-0.216-0.216-0.272-0.634-0.154-1.146c0.156-0.678,0.599-1.42,1.215-2.036s1.358-1.059,2.036-1.215  c0.176-0.041,0.341-0.061,0.49-0.061c0.286,0,0.514,0.073,0.656,0.215C46.005,41.762,46.061,42.18,45.943,42.692z"></path>
      <path d="M23.515,39.071l-1.465,1.465c-0.706-0.535-1.478-0.917-2.242-1.094c-1.199-0.276-2.296-0.026-3.01,0.688c0,0,0,0,0,0  s0,0,0,0c-0.714,0.714-0.965,1.812-0.688,3.01c0.242,1.048,0.863,2.114,1.75,3s1.952,1.508,3,1.75  c0.319,0.074,0.631,0.11,0.931,0.11c0.825,0,1.555-0.274,2.079-0.798c0.714-0.714,0.966-1.812,0.689-3.011  c-0.176-0.764-0.558-1.536-1.094-2.242l1.465-1.465L23.515,39.071z M22.454,45.789c-0.215,0.216-0.632,0.272-1.146,0.154  c-0.678-0.156-1.42-0.599-2.036-1.215s-1.059-1.358-1.215-2.036c-0.118-0.512-0.062-0.93,0.154-1.146c0,0,0,0,0,0  c0.142-0.142,0.37-0.215,0.656-0.215c0.149,0,0.314,0.02,0.49,0.061c0.678,0.156,1.42,0.599,2.036,1.215s1.059,1.358,1.215,2.036  C22.727,45.154,22.67,45.572,22.454,45.789z"></path>
      <path d="M43.142,16.108c-1.198-0.277-2.295-0.026-3.01,0.688c-0.714,0.714-0.966,1.812-0.689,3.011  c0.176,0.764,0.559,1.536,1.094,2.242l-1.465,1.465l1.414,1.414l1.465-1.465c0.706,0.535,1.478,0.918,2.242,1.094  c0.319,0.074,0.631,0.11,0.931,0.11c0.825,0,1.555-0.274,2.079-0.798c0,0,0,0,0,0s0,0,0,0c0.714-0.714,0.965-1.812,0.688-3.01  c-0.242-1.048-0.863-2.114-1.75-3S44.19,16.35,43.142,16.108z M45.789,22.454C45.789,22.454,45.789,22.454,45.789,22.454  c-0.216,0.217-0.633,0.272-1.146,0.155c-0.678-0.156-1.42-0.599-2.036-1.215s-1.059-1.358-1.215-2.036  c-0.118-0.512-0.062-0.93,0.155-1.146c0.142-0.142,0.37-0.215,0.656-0.215c0.149,0,0.314,0.02,0.49,0.061  c0.678,0.156,1.42,0.599,2.036,1.215s1.059,1.358,1.215,2.036C46.061,21.82,46.005,22.238,45.789,22.454z"></path>
      {isolation && (
        <>
          <circle
            cx="50"
            cy="48"
            r="14"
            fill="#fff"
            strokeWidth="3"
            stroke="#000"
          />
          <text
            x="77%"
            y="80%"
            textAnchor="middle"
            stroke="#000"
            fontSize="24px"
            fontFamily="Arial"
            dy=".2em"
          >
            i
          </text>
        </>
      )}

      {covidTestRequest && (
        <>
          <circle
            cx="50"
            cy="17"
            r="14"
            fill="#fff"
            stroke="#000"
            strokeWidth="3"
          />
          <text
            x="77%"
            y="22%"
            textAnchor="middle"
            stroke="#000"
            fontSize="24px"
            dy=".4em"
            fontFamily="Arial"
          >
            t
          </text>
        </>
      )}
    </svg>
  );
};

export default CovidIcon;
